var c = document.getElementById("board");
var ctx = c.getContext("2d");

var start_y;
var start_x;
var key_y;
var key_x;
var dst_y;
var dst_x;

var maze_size = 53;

var boardArray = 
[
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,1,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],
	[0,1,2,2,2,1,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,1,2,1,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,1,0],
	[0,1,1,1,2,1,2,1,1,1,1,1,2,1,2,1,1,1,1,1,2,1,2,1,2,1,1,1,1,1,2,1,2,1,2,1,2,1,2,1,2,1,1,1,1,1,1,1,2,1,2,1,0],
	[0,1,2,1,2,2,2,1,2,2,2,1,2,1,2,2,2,1,2,1,2,1,2,2,2,1,2,1,2,2,2,1,2,1,2,1,2,1,2,1,2,2,2,1,2,2,2,2,2,1,2,1,0],
	[0,1,2,1,1,1,1,1,2,1,1,1,2,1,1,1,2,1,2,1,2,1,1,1,2,1,2,1,2,1,1,1,1,1,2,1,2,1,2,1,1,1,2,1,2,1,1,1,1,1,2,1,0],
	[0,1,2,2,2,1,2,2,2,1,2,2,2,1,2,2,2,1,2,1,2,2,2,1,2,2,2,1,2,1,2,2,2,1,2,1,2,1,2,2,2,1,2,1,2,2,2,1,2,2,2,1,0],
	[0,1,2,1,2,1,2,1,2,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,2,1,2,1,2,1,2,1,2,1,1,1,2,1,1,1,1,1,2,1,2,1,1,1,0],
	[0,1,2,1,2,1,2,1,2,1,2,1,2,2,2,1,2,2,2,1,2,2,2,1,2,2,2,1,2,2,2,1,2,2,2,1,2,2,2,1,2,2,2,2,2,2,2,1,2,2,2,1,0],
	[0,1,2,1,1,1,2,1,2,1,2,1,2,1,1,1,2,1,2,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,2,1,1,1,1,1,1,1,1,1,1,1,2,1,0],
	[0,1,2,1,2,2,2,1,2,1,2,1,2,2,2,1,2,1,2,1,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,1,2,1,2,2,2,1,2,2,2,1,2,2,2,1,2,1,0],
	[0,1,2,1,2,1,1,1,2,1,2,1,1,1,2,1,2,1,2,1,1,1,2,1,2,1,1,1,1,1,1,1,1,1,2,1,2,1,1,1,2,1,2,1,2,1,2,1,2,1,2,1,0],
	[0,1,2,1,2,1,2,1,2,1,2,1,2,2,2,1,2,1,2,1,2,2,2,1,2,1,2,1,2,2,2,1,2,2,2,1,2,1,2,1,2,1,2,1,2,2,2,1,2,2,2,1,0],
	[0,1,2,1,2,1,2,1,2,1,2,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,2,1,2,1,2,1,2,1,1,1,2,1,2,1,2,1,2,1,1,1,1,1,2,1,1,1,0],
	[0,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,2,2,1,2,1,2,2,2,1,2,1,2,1,2,2,2,1,2,2,2,2,2,1,2,1,2,1,2,2,2,1,2,1,2,1,0],
	[0,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,1,1,2,1,2,1,1,1,1,1,2,1,1,1,1,1,2,1,1,1,2,1,2,1,2,1,2,1,0],
	[0,1,2,2,2,1,2,1,2,1,2,1,2,1,2,2,2,1,2,2,2,1,2,2,2,1,2,1,2,1,2,2,2,1,2,1,2,2,2,1,2,2,2,2,2,1,2,1,2,1,2,1,0],
	[0,1,2,1,1,1,2,1,2,1,2,1,2,1,1,1,1,1,2,1,1,1,1,1,2,1,2,1,2,1,2,1,2,1,1,1,2,1,2,1,1,1,1,1,1,1,2,1,2,1,2,1,0],
	[0,1,2,2,2,1,2,1,2,2,2,1,2,1,2,2,2,1,2,2,2,2,2,1,2,1,2,2,2,1,2,1,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,1,2,2,2,1,0],
	[0,1,1,1,2,1,2,1,1,1,1,1,2,1,2,1,2,1,1,1,1,1,2,1,2,1,2,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,0],
	[0,1,2,2,2,1,2,2,2,1,2,2,2,1,2,1,2,1,2,2,2,1,2,2,2,1,2,1,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,1,2,1,2,2,2,1,2,1,0],
	[0,1,2,1,1,1,2,1,1,1,2,1,2,1,2,1,2,1,2,1,2,1,1,1,1,1,2,1,2,1,2,1,2,1,2,1,1,1,1,1,1,1,2,1,2,1,2,1,2,1,2,1,0],
	[0,1,2,2,2,1,2,2,2,2,2,1,2,1,2,1,2,2,2,1,2,2,2,1,2,2,2,1,2,1,2,1,2,1,2,1,2,2,2,1,2,2,2,1,2,1,2,1,2,2,2,1,0],
	[0,1,1,1,2,1,1,1,1,1,1,1,2,1,2,1,1,1,1,1,1,1,2,1,2,1,1,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,1,1,2,1,2,1,1,1,1,1,0],
	[0,1,2,1,2,2,2,1,2,2,2,1,2,1,2,1,2,2,2,2,2,1,2,1,2,2,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,2,2,2,2,1,2,1,2,2,2,1,0],
	[0,1,2,1,1,1,2,1,2,1,2,1,2,1,2,1,2,1,1,1,2,1,2,1,1,1,2,1,1,1,2,1,2,1,2,1,2,1,2,1,1,1,1,1,1,1,2,1,2,1,2,1,0],
	[0,1,2,2,2,1,2,1,2,1,2,1,2,2,2,1,2,1,2,1,2,1,2,1,2,1,6,2,2,2,2,1,2,1,2,1,2,1,2,1,2,2,2,1,2,2,2,1,2,1,2,1,0],
	[0,1,2,1,2,1,2,1,2,1,2,1,2,1,1,1,2,1,2,1,2,1,2,1,2,1,1,1,1,1,1,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,1,1,1,1,2,1,0],
	[0,1,2,1,2,1,2,2,2,1,2,1,2,2,2,2,2,1,2,1,2,1,2,1,2,2,2,1,2,2,2,2,2,1,2,1,2,1,2,2,2,1,2,2,2,1,2,2,2,2,2,1,0],
	[0,1,2,1,2,1,1,1,1,1,2,1,1,1,1,1,1,1,2,1,2,1,2,1,2,1,2,1,2,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,2,1,1,1,2,1,0],
	[0,1,2,1,2,2,2,2,2,1,2,2,2,1,2,2,2,1,2,2,2,1,2,1,2,1,2,1,2,2,2,1,2,2,2,2,2,1,2,2,2,1,2,2,2,1,2,1,2,2,2,1,0],
	[0,1,1,1,1,1,2,1,2,1,1,1,2,1,2,1,2,1,2,1,1,1,2,1,2,1,2,1,1,1,2,1,2,1,1,1,1,1,2,1,2,1,2,1,2,1,2,1,1,1,2,1,0],
	[0,1,2,2,2,1,2,1,2,1,2,2,2,1,2,1,2,2,2,1,2,2,2,1,2,1,2,2,2,2,2,1,2,1,2,2,2,2,2,1,2,2,2,1,2,1,2,2,2,1,2,1,0],
	[0,1,2,1,2,1,2,1,2,1,2,1,1,1,1,1,1,1,1,1,2,1,1,1,2,1,1,1,1,1,1,1,2,1,2,1,1,1,1,1,1,1,1,1,2,1,1,1,2,1,2,1,0],
	[0,1,2,1,2,2,2,1,2,1,2,1,2,2,2,2,2,1,2,2,2,1,2,1,2,2,2,2,2,2,2,1,2,1,2,2,2,2,2,1,2,1,2,2,2,1,2,2,2,1,2,1,0],
	[0,1,2,1,1,1,1,1,1,1,2,1,2,1,1,1,2,1,2,1,1,1,2,1,2,1,1,1,1,1,2,1,2,1,2,1,1,1,2,1,2,1,2,1,1,1,2,1,1,1,2,1,0],
	[0,1,2,1,2,2,2,2,2,1,2,1,2,1,2,2,2,2,2,1,2,2,2,2,2,1,2,2,2,1,2,2,2,1,2,1,2,2,2,1,2,1,2,2,2,2,2,1,2,1,2,1,0],
	[0,1,2,1,2,1,1,1,2,1,2,1,2,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,2,1,1,1,1,1,1,1,2,1,1,1,2,1,1,1,1,1,1,1,2,1,2,1,0],
	[0,1,2,1,2,2,2,1,2,2,2,1,2,2,2,2,2,1,2,2,2,1,2,2,2,2,2,1,2,2,2,2,2,1,2,2,2,1,2,2,2,1,2,2,2,2,2,1,2,2,2,1,0],
	[0,1,2,1,1,1,2,1,1,1,1,1,1,1,2,1,2,1,2,1,2,1,1,1,1,1,2,1,2,1,1,1,2,1,2,1,1,1,2,1,2,1,2,1,2,1,1,1,2,1,1,1,0],
	[0,1,2,2,2,1,2,1,2,2,2,2,2,1,2,1,2,2,2,1,2,1,2,2,2,1,2,2,2,1,2,2,2,1,2,1,2,2,2,1,2,2,2,1,2,1,2,2,2,1,2,1,0],
	[0,1,2,1,1,1,2,1,1,1,2,1,2,1,2,1,1,1,1,1,2,1,1,1,2,1,1,1,1,1,2,1,1,1,2,1,2,1,1,1,2,1,1,1,1,1,2,1,1,1,2,1,0],
	[0,1,2,2,2,1,2,2,2,1,2,1,2,1,2,2,2,1,2,2,2,1,2,2,2,1,2,2,2,1,2,1,2,2,2,1,2,2,2,1,2,1,2,2,2,2,2,1,2,2,2,1,0],
	[0,1,2,1,2,1,1,1,2,1,2,1,2,1,1,1,2,1,2,1,1,1,2,1,2,1,2,1,1,1,2,1,2,1,1,1,1,1,2,1,2,1,2,1,1,1,1,1,1,1,2,1,0],
	[0,1,2,1,2,1,2,2,2,1,2,1,2,2,2,1,2,1,2,1,2,2,2,1,2,2,2,1,2,2,2,1,2,1,2,2,2,2,2,1,2,1,2,1,2,2,2,2,2,2,2,1,0],
	[0,1,2,1,2,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,2,1,1,1,1,1,2,1,2,1,1,1,2,1,2,1,1,1,1,1,1,1,2,1,2,1,2,1,1,1,2,1,0],
	[0,1,2,1,2,2,2,1,2,2,2,2,2,1,2,1,2,2,2,1,2,2,2,1,2,2,2,1,2,1,2,2,2,1,2,2,2,1,2,2,2,1,2,1,2,1,2,2,2,1,2,1,0],
	[0,1,2,1,1,1,1,1,1,1,1,1,2,1,2,1,2,1,1,1,2,1,2,1,1,1,1,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,1,1,1,1,2,1,2,1,0],
	[0,1,2,2,2,1,2,2,2,2,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,2,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,2,2,1,2,2,2,1,2,1,0],
	[0,1,1,1,2,1,2,1,1,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,1,1,2,1,2,1,2,1,2,1,2,1,1,1,2,1,2,1,1,1,2,1,0],
	[0,1,2,2,2,2,2,1,2,2,2,2,2,1,2,2,2,1,2,2,2,1,2,2,2,1,2,2,2,2,2,2,2,1,2,1,2,2,2,1,2,2,2,2,2,2,2,1,2,2,2,1,0],
	[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
]
function updateBoard(){
	// board fill color
	ctx.fillStyle="#ffffff";
	ctx.fillRect(0, 0, 600, 600);
	
	ctx.fillStyle="#ff0000";
	for (var i = 0; i < maze_size; i++) {
		for (var j = 0; j < maze_size; j++) {
			if (boardArray[i][j] == 0) {
				ctx.fillRect(j * 10, i * 10, 10, 10);
			}
		}
	}

	ctx.fillStyle="#000000";
	for (var i = 0; i < maze_size; i++) {
		for (var j = 0; j < maze_size; j++) {
			if (boardArray[i][j] == 1) {
				ctx.fillRect(j * 10, i * 10, 10, 10);
			}
		}
	}

	ctx.fillStyle="#ffffff";
	for (var i = 0; i < maze_size; i++) {
		for (var j = 0; j < maze_size; j++) {
			if (boardArray[i][j] == 2) {
				ctx.fillRect(j * 10, i * 10, 10, 10);
			}
		}
	}
	ctx.fillStyle="#00ff00";
	for (var i = 0; i < maze_size; i++) {
		for (var j = 0; j < maze_size; j++) {
			if (boardArray[i][j] == 3) {
				start_y = i;
				start_x = j;
				ctx.fillRect(j * 10, i * 10, 10, 10);
			}
		}
	}

	ctx.fillStyle="#dddddd";
	for (var i = 0; i < maze_size; i++) {
		for (var j = 0; j < maze_size; j++) {
			if (boardArray[i][j] == 5) {
				start_y = i;
				start_x = j;
				ctx.fillRect(j * 10 + 1, i * 10 + 1, 8, 8);
			}
		}
	}

	ctx.fillStyle="#ffff00";
	for (var i = 0; i < maze_size; i++) {
		for (var j = 0; j < maze_size; j++) {
			if (boardArray[i][j] == 6) {
				key_y = i;
				key_x = j;
				ctx.fillRect(j * 10, i * 10, 10, 10);
			}
		}
	}

	ctx.fillStyle="#0000ff";
	for (var i = 0; i < maze_size; i++) {
		for (var j = 0; j < maze_size; j++) {
			if (boardArray[i][j] == 4) {
				dst_y = i;
				dst_x = j;
				ctx.fillRect(j * 10, i * 10, 10, 10);
			}
		}
	}

	ctx.fillStyle="#ff00ff";
	ctx.fillRect(here_x * 10 + 2, here_y * 10 + 2, 6, 6);

	console.log(cnt + " " + here_y + " : " + here_x)
}
var here_y;
here_y = 1;
var here_x;
here_x = 2;
var cnt = 0;
updateBoard();

var cnt = 0;

window.addEventListener('keyup', function(evt) {
	var code = evt.keyCode;
    switch (code) {
        case 37: cnt++; here_x--; updateBoard(); break; //Left key
        case 38: cnt++; here_y--; updateBoard();  break; //Up key
        case 39: cnt++; here_x++; updateBoard(); break; //Right key
        case 40: cnt++; here_y++; updateBoard(); break; //Down key
    }
},false);